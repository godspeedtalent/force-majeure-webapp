import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState, useRef, useCallback } from 'react';
import { useTranslation } from 'react-i18next';
import { ChevronLeft, Instagram as InstagramIcon, ExternalLink } from 'lucide-react';
import { FmCommonButton } from '@/components/common/buttons/FmCommonButton';
import { FmI18nCommon } from '@/components/common/i18n';
import { SOCIAL_LINKS } from '@/shared';
export function TermsStep({ formData, onInputChange, onSubmit, onPrevious, isSubmitting, }) {
    const { t } = useTranslation('common');
    const [hasScrolledToBottom, setHasScrolledToBottom] = useState(false);
    const termsContainerRef = useRef(null);
    const handleTermsScroll = useCallback(() => {
        const container = termsContainerRef.current;
        if (!container)
            return;
        const { scrollTop, scrollHeight, clientHeight } = container;
        // Consider "scrolled to bottom" when within 10px of the bottom
        const isAtBottom = scrollTop + clientHeight >= scrollHeight - 10;
        if (isAtBottom && !hasScrolledToBottom) {
            setHasScrolledToBottom(true);
        }
    }, [hasScrolledToBottom]);
    return (_jsxs("div", { className: 'h-full flex flex-col p-[20px]', children: [_jsx("div", { className: 'flex-1 overflow-y-auto pr-[10px]', children: _jsx("div", { className: 'flex justify-center items-start', children: _jsxs("div", { className: 'w-[85vw] sm:w-[80%] space-y-[20px] bg-black/60 backdrop-blur-sm border border-white/10 p-[30px] sm:p-[40px]', children: [_jsxs("div", { children: [_jsx(FmI18nCommon, { i18nKey: 'artistRegistration.termsTitle', as: 'h2', className: 'font-canela text-3xl mb-[10px]' }), _jsx(FmI18nCommon, { i18nKey: 'artistRegistration.termsDescription', as: 'p', className: 'font-canela text-sm text-muted-foreground' })] }), _jsx("div", { className: 'w-full h-[1px] bg-gradient-to-r from-fm-gold via-white/30 to-transparent' }), _jsxs("div", { className: 'bg-black/40 backdrop-blur-sm border border-white/20 rounded-none p-[20px]', children: [_jsx(FmI18nCommon, { i18nKey: 'artistRegistration.artistTermsTitle', as: 'h3', className: 'font-canela text-base mb-[10px]' }), _jsx(FmI18nCommon, { i18nKey: 'artistRegistration.artistTermsSubtitle', as: 'p', className: 'font-canela text-xs text-muted-foreground mb-[10px]' }), _jsx("div", { ref: termsContainerRef, onScroll: handleTermsScroll, className: 'max-h-[250px] overflow-y-auto mb-[15px] p-[15px] bg-black/20 border border-white/10 rounded-none', children: _jsxs("div", { className: 'font-canela text-xs text-muted-foreground leading-relaxed space-y-[15px]', children: [_jsx("p", { children: "By submitting this form, you (\"Artist\") agree to the following Terms and Conditions. If you do not agree, do not submit." }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "1. Submission Materials & Accuracy" }), _jsx("p", { className: 'mb-[10px]', children: "Artist may be required to submit a DJ mix, name, email, social links, press assets, performance history, technical information, and any other materials requested. Artist represents and warrants that all submitted information is accurate and complete." }), _jsx("p", { className: 'mb-[10px]', children: "Artist affirms that they legally reside within 50 miles of the venue location associated with the event for which they are submitting." }), _jsx("p", { children: "Artist represents that they own or have all necessary rights to the music, mixes, recordings, and media they submit. If requested, Artist must be able to provide proof of ownership or rights." })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "2. Rights Granted to Us" }), _jsx("p", { className: 'mb-[10px]', children: "By submitting, Artist grants us and our partners a non-exclusive, royalty-free license to use submitted materials solely for purposes of evaluating Artist for current or future event bookings." }), _jsx("p", { className: 'mb-[10px]', children: "If Artist is selected for an event, Artist further grants us the right to use their submitted materials\u2014including name, photos, biography, and mix excerpts\u2014for marketing and promotional content related to that specific event." }), _jsx("p", { children: "Submitted materials will not be used for unrelated commercial purposes without additional permission." })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "3. Review Process & Selection" }), _jsx("p", { className: 'mb-[10px]', children: "Artist acknowledges and agrees that:" }), _jsxs("ul", { className: 'list-disc list-inside space-y-[5px] ml-[10px]', children: [_jsx("li", { children: "Submissions may be evaluated using both human review and automated decision-making systems." }), _jsx("li", { children: "We may decline any submission without notice or explanation." }), _jsx("li", { children: "Submission does not guarantee selection, booking, or further communication." }), _jsx("li", { children: "We may share submissions with event partners, venue operators, and affiliated promoters at our discretion for booking-related purposes." })] })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "4. Performance Expectations Upon Selection" }), _jsx("p", { className: 'mb-[10px]', children: "If Artist is selected for an opening slot, Artist agrees that:" }), _jsxs("ul", { className: 'list-disc list-inside space-y-[5px] ml-[10px]', children: [_jsx("li", { children: "Arrival time is at least one (1) hour prior to their scheduled set." }), _jsx("li", { children: "All audio played must be provided in lossless format (e.g., WAV, AIFF)." }), _jsx("li", { children: "Any additional equipment not supplied by us must receive written approval prior to use." }), _jsx("li", { children: "Artist must adhere to all professional standards, venue rules, and direction from event staff." }), _jsx("li", { children: "Additional performance-related terms may be provided separately in a performance agreement, which Artist must sign before appearing." })] })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "5. Data Storage, Retention, and Sharing" }), _jsx("p", { className: 'mb-[10px]', children: "Artist agrees that submitted information may be stored across Supabase, AWS, Google Drive, Notion, and internal systems including physical documentation." }), _jsx("p", { className: 'mb-[10px]', children: "Artist understands and consents to the following:" }), _jsxs("ul", { className: 'list-disc list-inside space-y-[5px] ml-[10px]', children: [_jsx("li", { children: "Data may be retained as long as legally permitted and necessary for our legitimate operational interests." }), _jsx("li", { children: "Data may be shared with event partners, affiliated promoters, and venue operators for booking and evaluation purposes." })] })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "6. Data Requests & Removal" }), _jsx("p", { className: 'mb-[10px]', children: "Artist may request deletion of their data. We will comply unless retention is required by law or for legitimate business purposes (e.g., ongoing booking evaluation or compliance documentation)." }), _jsx("p", { children: "Deletion requests may impact Artist's ability to be considered for future events." })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "7. Conduct & Representation" }), _jsx("p", { className: 'mb-[10px]', children: "Artist agrees not to publicly claim selection or performance at any of our events unless formally and explicitly confirmed in writing." }), _jsx("p", { children: "Misrepresentation of affiliation is grounds for immediate removal from consideration for all future events." })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "8. Updates to These Terms" }), _jsx("p", { children: "We are not required to notify Artist of changes to these Terms. The version in effect at the time of submission governs the submission." })] }), _jsxs("div", { children: [_jsx("p", { className: 'font-semibold text-white/80 mb-[5px]', children: "9. Acceptance" }), _jsx("p", { children: "By submitting this form, Artist acknowledges they have read, understood, and agreed to these Terms and Conditions in full." })] })] }) }), !hasScrolledToBottom && (_jsx("p", { className: 'font-canela text-xs text-fm-gold mb-[10px] animate-pulse', children: t('artistRegistration.scrollToBottom') })), _jsxs("label", { className: `flex items-start gap-[10px] group ${hasScrolledToBottom ? 'cursor-pointer' : 'cursor-not-allowed opacity-50'}`, children: [_jsx("input", { type: 'checkbox', checked: formData.agreeToTerms, onChange: e => {
                                                    if (hasScrolledToBottom) {
                                                        onInputChange('agreeToTerms', e.target.checked);
                                                    }
                                                }, disabled: !hasScrolledToBottom, className: 'mt-1 h-4 w-4 rounded-none border-white/20 bg-transparent checked:bg-fm-gold checked:border-fm-gold focus:ring-fm-gold focus:ring-offset-0 disabled:opacity-50' }), _jsxs("span", { className: `font-canela text-sm transition-colors ${hasScrolledToBottom ? 'group-hover:text-fm-gold' : ''}`, children: [t('artistRegistration.agreeToTerms'), ' ', _jsx("span", { className: 'text-fm-danger', children: "*" })] })] })] }), _jsx("div", { className: 'w-full h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent' }), _jsxs("div", { className: 'space-y-[15px]', children: [_jsx(FmI18nCommon, { i18nKey: 'sections.profileSettings', as: 'h3', className: 'font-canela text-base' }), _jsxs("label", { className: 'flex items-start gap-[10px] cursor-pointer group', children: [_jsx("input", { type: 'checkbox', checked: formData.notificationsOptIn, onChange: e => onInputChange('notificationsOptIn', e.target.checked), className: 'mt-1 h-4 w-4 rounded-none border-white/20 bg-transparent checked:bg-fm-gold checked:border-fm-gold focus:ring-fm-gold focus:ring-offset-0' }), _jsxs("div", { className: 'flex-1', children: [_jsx("span", { className: 'font-canela text-sm group-hover:text-fm-gold transition-colors block', children: t('artistRegistration.notificationsOptIn') }), _jsx("span", { className: 'font-canela text-xs text-muted-foreground', children: t('artistRegistration.notificationsOptInDescription') })] })] })] }), _jsx("div", { className: 'w-full h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent' }), _jsxs("div", { className: 'bg-fm-gold/10 border border-fm-gold/30 rounded-none p-[20px]', children: [_jsx(FmI18nCommon, { i18nKey: 'sections.supportForceMajeure', as: 'h3', className: 'font-canela text-base mb-[10px] text-fm-gold' }), _jsx(FmI18nCommon, { i18nKey: 'sections.supportDescription', as: 'p', className: 'font-canela text-sm text-muted-foreground mb-[15px]' }), _jsxs("a", { href: SOCIAL_LINKS.instagram, target: '_blank', rel: 'noopener noreferrer', className: 'inline-flex items-center gap-[10px] px-[20px] py-[12px] bg-fm-gold/20 hover:bg-fm-gold/30 border border-fm-gold/50 rounded-none transition-all duration-300 font-canela text-sm', "aria-label": t('aria.followOnInstagram'), children: [_jsx(InstagramIcon, { className: 'h-4 w-4' }), t('buttons.followOnInstagram'), _jsx(ExternalLink, { className: 'h-3 w-3' })] })] }), _jsxs("div", { className: 'pt-[10px]', children: [_jsx(FmCommonButton, { onClick: onSubmit, variant: 'gold', loading: isSubmitting, disabled: !formData.agreeToTerms, className: 'w-full', children: t('buttons.submitRegistration') }), !formData.agreeToTerms && (_jsx("p", { className: 'font-canela text-xs text-muted-foreground text-center mt-[10px]', children: t('artistRegistration.agreeToTermsRequired') }))] })] }) }) }), _jsx("div", { className: 'flex justify-start pt-[20px] border-t border-white/10 flex-shrink-0', children: _jsxs(FmCommonButton, { onClick: onPrevious, variant: 'secondary', children: [_jsx(ChevronLeft, { className: 'h-4 w-4 mr-[10px]' }), t('buttons.previous')] }) })] }));
}

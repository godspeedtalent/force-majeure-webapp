import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useTranslation } from 'react-i18next';
import { Dialog, DialogContent, DialogHeader, DialogTitle, } from '@/components/common/shadcn/dialog';
import { Badge } from '@/components/common/shadcn/badge';
import { Button } from '@/components/common/shadcn/button';
import { Separator } from '@/components/common/shadcn/separator';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/common/shadcn/avatar';
export const OrderDetailModal = ({ order, onClose }) => {
    const { t } = useTranslation('common');
    const statusColors = {
        pending: 'bg-yellow-500/10 text-yellow-500',
        completed: 'bg-green-500/10 text-green-500',
        cancelled: 'bg-red-500/10 text-red-500',
        refunded: 'bg-gray-500/10 text-gray-500',
    };
    return (_jsx(Dialog, { open: true, onOpenChange: onClose, children: _jsxs(DialogContent, { className: "max-w-2xl", children: [_jsx(DialogHeader, { children: _jsx(DialogTitle, { children: t('orderDetails.title') }) }), _jsxs("div", { className: "space-y-6", children: [_jsxs("div", { className: "flex items-start justify-between", children: [_jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: t('orderDetails.orderId') }), _jsxs("p", { className: "font-mono font-semibold", children: ["#", order.id] })] }), _jsx(Badge, { className: statusColors[order.status] || 'bg-gray-500/10', children: t(`orderStatus.${order.status}`) })] }), _jsx(Separator, {}), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold mb-3", children: t('orderDetails.customerInformation') }), _jsxs("div", { className: "flex items-center gap-3", children: [_jsxs(Avatar, { className: "h-12 w-12", children: [_jsx(AvatarImage, { src: order.profile?.avatar_url || undefined }), _jsx(AvatarFallback, { children: order.profile?.display_name?.[0] || order.profile?.full_name?.[0] || 'U' })] }), _jsxs("div", { children: [_jsx("p", { className: "font-medium", children: order.profile?.display_name || order.profile?.full_name || 'Unknown' }), _jsx("p", { className: "text-sm text-muted-foreground", children: order.profile?.email })] })] })] }), _jsx(Separator, {}), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold mb-3", children: t('orderDetails.ticketDetails') }), _jsx("div", { className: "space-y-3", children: order.items?.map((item) => (_jsxs("div", { className: "flex justify-between items-start p-3 bg-muted rounded-lg", children: [_jsxs("div", { className: "flex-1", children: [_jsx("p", { className: "font-medium", children: item.ticket_tier?.name }), item.ticket_tier?.description && (_jsx("p", { className: "text-sm text-muted-foreground", children: item.ticket_tier?.description })), _jsxs("p", { className: "text-sm text-muted-foreground mt-1", children: [t('orderDetails.quantity'), ": ", item.quantity, " \u00D7 $", (item.unit_price_cents / 100).toFixed(2)] })] }), _jsxs("div", { className: "text-right", children: [_jsxs("p", { className: "font-semibold", children: ["$", (item.total_cents / 100).toFixed(2)] }), _jsxs("p", { className: "text-xs text-muted-foreground", children: ["+ $", (item.fees_cents / 100).toFixed(2), " ", t('orderDetails.fees')] })] })] }, item.id))) })] }), _jsx(Separator, {}), _jsxs("div", { className: "space-y-2", children: [_jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-muted-foreground", children: t('checkout.subtotal') }), _jsxs("span", { children: ["$", (order.subtotal_cents / 100).toFixed(2)] })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-muted-foreground", children: t('orderDetails.fees') }), _jsxs("span", { children: ["$", (order.fees_cents / 100).toFixed(2)] })] }), _jsx(Separator, {}), _jsxs("div", { className: "flex justify-between font-bold text-lg", children: [_jsx("span", { children: t('checkout.total') }), _jsxs("span", { children: ["$", (order.total_cents / 100).toFixed(2)] })] })] }), _jsx(Separator, {}), _jsxs("div", { className: "grid grid-cols-2 gap-4 text-sm", children: [_jsxs("div", { children: [_jsx("p", { className: "text-muted-foreground", children: t('orderDetails.created') }), _jsx("p", { className: "font-medium", children: new Date(order.created_at).toLocaleString() })] }), _jsxs("div", { children: [_jsx("p", { className: "text-muted-foreground", children: t('orderDetails.lastUpdated') }), _jsx("p", { className: "font-medium", children: new Date(order.updated_at).toLocaleString() })] }), _jsxs("div", { children: [_jsx("p", { className: "text-muted-foreground", children: t('orderDetails.currency') }), _jsx("p", { className: "font-medium uppercase", children: order.currency })] })] }), _jsx("div", { className: "flex justify-end gap-2", children: _jsx(Button, { variant: "outline", onClick: onClose, children: t('buttons.close') }) })] })] }) }));
};
